<template>
	<view class="template-product tn-safe-area-inset-bottom">
		<!-- é¡¶éƒ¨è‡ªå®šä¹‰å¯¼èˆª -->
		<tn-nav-bar fixed alpha customBack>
			<view slot="back" class="tn-custom-nav-bar__back" @click="goBack">
				<text class="icon tn-icon-left"></text>
				<text class="icon tn-icon-home-capsule-fill"></text>
			</view>
		</tn-nav-bar>

		<swiper class="card-swiper" :circular="true" :autoplay="true" duration="500" interval="5000" @change="cardSwiper">
			<swiper-item v-for="(item, index) in swiperList" :key="index" :class="cardCur == index ? 'cur' : ''">
				<view class="swiper-item image-banner">
					<image :src="item.url" mode="aspectFill" v-if="item.type == 'image'"></image>
				</view>
			</swiper-item>
		</swiper>
		<view class="indication">
			<block v-for="(item, index) in swiperList" :key="index">
				<view class="spot" :class="cardCur == index ? 'active' : ''"></view>
			</block>
		</view>

		<view class="tn-margin">
			<view class="tn-flex tn-flex-row-between">
				<view class="justify-content-item tn-text-bold tn-text-xxl">
					çº¢ç„–ç¾Šè‚‰èƒ¡èåœ
				</view>
			</view>
			<view class="tn-flex tn-flex-row-between tn-margin-top">
				<view class="justify-content-item tn-text-bold tn-color-purplered">
					<text class="" style="font-size: 50rpx">å…è´¹åˆ†äº«</text>
				</view>
				<view class="justify-content-item tn-color-gray tn-padding-top-xs">
					<view class="">å·²æŸ¥çœ‹ 729</view>
				</view>
			</view>
		</view>

		<!-- è¾¹è·é—´éš” -->
		<view class="tn-strip-bottom"></view>

		<view class="tn-margin">
			<view class="justify-content-item tn-text-bold tn-text-xl">
				æ‰€éœ€é£Ÿæ
			</view>

			<view class="justify-content-item tn-color-gray">
				ç¾Šè‚‰ 500å…‹ <br />
				èƒ¡èåœ <br />
				2 æ ¹(350å…‹å·¦å³) <br />
				å¤§è‘± 50å…‹ <br />
				å§œç‰‡ 10å…‹ <br />
				å†°ç³– 40å…‹ é»„è±†é…±æ²¹ 30å…‹ <br />
				æ–™é…’ 10å…‹ <br />
				å„ç§é¦™æ–™ è§æ­¥éª¤å›¾ <br />
				ç› 3å…‹
			</view>
			<view class="justify-content-item tn-text-bold tn-text-xl">
				åšæ³•æ­¥éª¤
			</view>
			<view class="justify-content-item tn-color-gray">
				1ã€ç¾Šè‚‰åˆ‡å—(å¤§å°éšæ„ï¼Œæˆ‘åˆ‡çš„å¤§çº¦ä¸º2.5å˜ç±³è§æ–¹)ï¼Œå› ä¸ºå­©å­ä¸å–œæ¬¢è‚¥çš„å’Œç­‹è†œç±»ï¼Œæ‰€ä»¥æˆ‘ç”¨çš„ç¾Šè…¿è‚‰ï¼Œç˜¦è‚‰å¤šã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€‰å…¶ä»–éƒ¨ä½å“ˆã€‚
				2ã€èƒ¡èåœå»çš®åˆ‡æ»šåˆ€å—ã€‚ <br />
				3ã€ç¾Šè‚‰å‡‰æ°´ä¸‹é”…ç…®å¼€ï¼Œæ’‡å»æµ®æ²« <br />
				4ã€æå‡ºå¤‡ç”¨ <br />
				5ã€èƒ¡èåœè¿‡æ²¹ç‚¸ä¸€ä¸‹ <br />
				6ã€ç‚¸è‡³ç„¦è¾¹ä¸”å˜è”«å„¿ï¼Œå¤‡ç”¨ <br />
				7ã€å¤§è‘±åˆ‡å¤§æ®µï¼Œå§œåˆ‡å¤§ç‰‡ï¼Œä»¥æ–¹ä¾¿ä¹‹åæå‡ºã€‚
				8ã€ç‚’é”…ä¸Šç«çƒ§çƒ­ï¼ŒåŠ å°‘é‡åº•æ²¹ï¼Œæ”¾å…¥ç¾Šè‚‰ã€å¤§è‘±ã€å§œå’Œå†°ç³–ä¸€èµ·ç‚’ï¼Œè½¬å°ç«å¤šç‚’ä¸€ä¼šå„¿ï¼Œè‡³è‚‰æœ‰ç„¦è¾¹ï¼Œä¸”å†°ç³–å‡ ä¹èåŒ–ã€‚
				<br />
				9ã€åŠ é…±æ²¹ã€æ–™é…’ï¼Œç»§ç»­ç‚’ä¸€ä¼šå„¿ã€‚
				é…±æ²¹æˆ‘ç”¨çš„é¾™å’Œå®½é»„è±†é…±æ²¹ï¼Œæ²¡æœ‰çš„è¯ç”¨åˆ«çš„ï¼Œæˆ–çº¢çƒ§é…±æ²¹ï¼Œé¢œè‰²è‡ªå·±æŒæ¡ä¸€ä¸‹ï¼Œå› ä¸ºå„ç§é…±æ²¹é¢œè‰²ä¸ä¸€æ ·ï¼Œæ‰€ä»¥è‡ªå·±è°ƒæ•´ä¸€ä¸‹ç”¨é‡ã€‚
				<br />
				11ã€å‚è€ƒå›¾ä¸Šé¦™æ–™çš„ç”¨é‡ï¼šè‰æœ(ç ¸è£‚å¼€)ã€è‚‰è”»ã€æ¡‚çš®ã€é™ˆçš®ã€å°ä¸é¦™ã€èŠ±æ¤’ã€å…«è§’ã€å°èŒ´é¦™ã€‚
				<br />
				12ã€åŠ å…¥è‚‰é”…ä¸­ï¼Œä¸”åŠ å…¥é€‚é‡å¼€æ°´ï¼Œå°ç«ç‚–40åˆ†é’Ÿå·¦å³ã€‚
				ğŸŒ¹è¿™æ—¶æˆ‘æ¢ç”¨äº†å°ç ‚é”…ã€‚
				<br />
				13ã€åŠ å…¥èƒ¡èåœå’Œç›ç»§ç»­ç‚–20åˆ†é’Ÿã€‚
				<br />
			</view>
			<view class="justify-content-item tn-text-bold tn-text-xl">
				è¥å…»æ„æˆ
			</view>
			<view class="justify-content-item tn-color-gray">
				<view class="charts-box">
					<qiun-data-charts type="pie" :opts="opts" :chartData="chartData" />
				</view>
			</view>
		</view>


		<!-- è¾¹è·é—´éš” -->
		<view class="tn-strip-bottom"></view>

		<view class="tn-margin">
			<view class="tn-flex tn-flex-row-between">
				<view class="justify-content-item tn-text-bold tn-text-xl"> æ ‡ç­¾ </view>
			</view>
		</view>

		<view class="">
			<view class="tn-tag-content tn-margin tn-text-justify">
				<view v-for="(item, index) in tagList" :key="index"
					class="tn-tag-content__item tn-margin-right tn-round tn-text-sm tn-text-bold"
					:class="[`tn-bg-${item.color}--light tn-color-${item.color}`]">
					<text class="tn-tag-content__item--prefix">#</text> {{ item.title }}
				</view>
			</view>
		</view>

		<!-- è¾¹è·é—´éš” -->
		<view class="tn-strip-bottom"></view>

		<!-- å›¾æ ‡logo/å¤´åƒ -->
		<view class="tn-flex tn-flex-row-between tn-flex-col-center tn-margin" @click="tn('/preferredPages/shop')">
			<view class="justify-content-item">
				<view class="tn-flex tn-flex-col-center tn-flex-row-left">
					<view class="logo-pic tn-shadow">
						<view class="logo-image">
							<view class="tn-shadow-blur" style="
                  background-image: url('https://resource.tuniaokj.com/images/blogger/blogger_beibei.jpg');
                  width: 110rpx;
                  height: 110rpx;
                  background-size: cover;
                ">
							</view>
						</view>
					</view>
					<view class="tn-padding-right tn-color-black">
						<view class="tn-padding-right tn-padding-left-sm tn-text-xl tn-text-bold">
							å°ç¾
						</view>
						<view class="tn-padding-right tn-padding-top-xs tn-text-ellipsis tn-padding-left-sm">
							<text class="tn-color-purplered tn-icon-flower-fill tn-text-lg"></text>
							<text class="tn-color-purplered tn-icon-flower-fill tn-text-lg"></text>
							<text class="tn-color-purplered tn-icon-flower-fill tn-text-lg"></text>
							<text class="tn-color-purplered tn-icon-flower-fill tn-text-lg"></text>
							<text class="tn-color-purplered tn-icon-flower-fill tn-text-lg"></text>
							<text class="tn-color-brown tn-padding-left-xs tn-text-bold">5.0</text>
						</view>
					</view>
				</view>
			</view>
			<view class="justify-content-item tn-flex-row-center">
				<view class="tn-cool-bg-color-15 tn-padding-xs tn-color-white tn-round tn-shadow-blur">
					<text class="tn-padding-left-xs">æŸ¥çœ‹æ›´å¤š</text>
					<text class="tn-icon-send-fill tn-padding-xs"></text>
				</view>
			</view>
		</view>
	</view>
</template>

<script>
	import template_page_mixin from "@/libs/mixin/template_page_mixin.js";
	const db = uniCloud.database();
	export default {
		name: "TemplateProduct",
		mixins: [template_page_mixin],
		data() {
			return {
				cardCur: 0,
				opts: {
					color: [
						"#1890FF",
						"#91CB74",
						"#FAC858",
						"#EE6666",
						"#73C0DE",
						"#3CA272",
						"#FC8452",
						"#9A60B4",
						"#ea7ccc",
					],
					padding: [5, 5, 5, 5],
					enableScroll: false,
					extra: {
						pie: {
							activeOpacity: 0.5,
							activeRadius: 10,
							offsetAngle: 0,
							labelWidth: 15,
							border: false,
							borderWidth: 3,
							borderColor: "#FFFFFF",
						},
					},
				},
				chartData: {
					series: [{
						data: [{
								name: "ç»´ç”Ÿç´ A",
								value: 50
							},
							{
								name: "è›‹ç™½è´¨",
								value: 30
							},
							{
								name: "èƒ½é‡",
								value: 20
							},
							{
								name: "ç»´ç”Ÿç´ E",
								value: 18
							},
							{
								name: "çŸ¿ç‰©è´¨é’™",
								value: 8
							},
						],
					}, ],
				},
				swiperList: [{
						id: 0,
						type: "image",
						url: "https://tse2-mm.cn.bing.net/th/id/OIP-C.vxPh7YsBLXwJnrPOzLV99wHaE8?rs=1&pid=ImgDetMain",
					},
					{
						id: 1,
						type: "image",
						url: "https://ts1.cn.mm.bing.net/th/id/R-C.08887e425c4d2fc7b09ee3829b0aaff0?rik=4DNFRmlmV5PipQ&riu=http%3a%2f%2fi2.chuimg.com%2f0f643b6289ff11e6b87c0242ac110003_800w_531h.jpg%3fimageView2%2f2%2fw%2f660%2finterlace%2f1%2fq%2f90&ehk=VjRnRx9KMTnBdTGMqWapG4H8fnVMeECwYijqFqRGXaU%3d&risl=&pid=ImgRaw&r=0",
					},
				],
				current: 0,
				tagList: [{
						color: "cyan",
						title: "è®¾è®¡",
					},
					{
						color: "blue",
						title: "éŸµç§‘é£Ÿè°±",
					},
					{
						color: "green",
						title: "äº’è”ç½‘",
					},
					{
						color: "orange",
						title: "å…è´¹",
					},
					{
						color: "purplered",
						title: "é…è‰²",
					},
					{
						color: "brown",
						title: "æ’ç”»",
					},
				],
				data: {},
			};
		},
		methods: {
			// cardSwiper
			cardSwiper(e) {
				this.cardCur = e.detail.current;
			},
			// è·³è½¬
			tn(e) {
				uni.navigateTo({
					url: e,
				});
			},
			// tabé€‰é¡¹å¡åˆ‡æ¢
			tabChange(index) {
				this.current = index;
			},
			getRandomCoolBg() {
				return this.$t.colorUtils.getRandomCoolBgClass();
			},
		},
		onLoad: async function(params) {
			console.log(this)
			if (!params.data) {
				this.tn('/index')
			}
			let {
				result
			} = await db.collection("article").where({
				_id: params.id
			}).get();
			console.log(JSON.stringify(result));

		}
	};
</script>

<style lang="scss" scoped>
	.justify-content-item {
		margin: 10px;
	}

	.tn-tabbar-height {
		min-height: 120rpx;
		height: calc(140rpx + env(safe-area-inset-bottom) / 2);
	}

	/* ç”¨æˆ·å¤´åƒ start */
	.logo-image {
		width: 110rpx;
		height: 110rpx;
		position: relative;
	}

	.logo-pic {
		background-size: cover;
		background-repeat: no-repeat;
		// background-attachment:fixed;
		background-position: top;
		box-shadow: 0rpx 0rpx 80rpx 0rpx rgba(0, 0, 0, 0.15);
		border-radius: 10rpx;
		overflow: hidden;
		// background-color: #FFFFFF;
	}

	/* èƒ¶å›Š*/
	.tn-custom-nav-bar__back {
		width: 100%;
		height: 100%;
		position: relative;
		display: flex;
		justify-content: space-evenly;
		align-items: center;
		box-sizing: border-box;
		background-color: rgba(0, 0, 0, 0.15);
		border-radius: 1000rpx;
		border: 1rpx solid rgba(255, 255, 255, 0.5);
		color: #ffffff;
		font-size: 18px;

		.icon {
			display: block;
			flex: 1;
			margin: auto;
			text-align: center;
		}

		&:before {
			content: " ";
			width: 1rpx;
			height: 110%;
			position: absolute;
			top: 22.5%;
			left: 0;
			right: 0;
			margin: auto;
			transform: scale(0.5);
			transform-origin: 0 0;
			pointer-events: none;
			box-sizing: border-box;
			opacity: 0.7;
			background-color: #ffffff;
		}
	}

	/* è½®æ’­è§†è§‰å·® start */
	.card-swiper {
		height: 750rpx !important;
	}

	.card-swiper swiper-item {
		width: 750rpx !important;
		left: 0rpx;
		box-sizing: border-box;
		// padding: 0rpx 30rpx 90rpx 30rpx;
		overflow: initial;
	}

	.card-swiper swiper-item .swiper-item {
		width: 100%;
		display: block;
		height: 100%;
		transform: scale(1);
		transition: all 0.2s ease-in 0s;
		overflow: hidden;
	}

	.card-swiper swiper-item.cur .swiper-item {
		transform: none;
		transition: all 0.2s ease-in 0s;
	}

	.image-banner {
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.image-banner image {
		width: 100%;
		height: 100%;
	}

	/* è½®æ’­æŒ‡ç¤ºç‚¹ start*/
	.indication {
		z-index: 9999;
		width: 100%;
		height: 36rpx;
		position: absolute;
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: center;
	}

	.spot {
		background-color: #ffffff;
		opacity: 0.6;
		width: 10rpx;
		height: 10rpx;
		border-radius: 20rpx;
		top: -60rpx;
		margin: 0 8rpx !important;
		position: relative;
	}

	.spot.active {
		opacity: 1;
		width: 30rpx;
		background-color: #ffffff;
	}

	/* é—´éš”çº¿ start*/
	.tn-strip-bottom-min {
		width: 100%;
		border-bottom: 1rpx solid #f8f9fb;
	}

	/* é—´éš”çº¿ start*/
	.tn-strip-bottom {
		width: 100%;
		border-bottom: 20rpx solid rgba(241, 241, 241, 0.8);
	}

	/* é—´éš”çº¿ end*/
	/* æ ‡é¢˜ start */
	.nav_title {
		-webkit-background-clip: text;
		color: transparent;

		&--wrap {
			position: relative;
			display: flex;
			height: 120rpx;
			font-size: 46rpx;
			align-items: center;
			justify-content: center;
			font-weight: bold;
			background-image: url(https://resource.tuniaokj.com/images/title_bg/title44.png);
			background-size: cover;
		}
	}

	/* æ ‡é¢˜ end */

	/* åº•éƒ¨tabbar start*/
	.footerfixed {
		position: fixed;
		width: 100%;
		bottom: 0;
		z-index: 999;
		background-color: #ffffff;
		box-shadow: 0rpx 0rpx 30rpx 0rpx rgba(0, 0, 0, 0.07);
	}

	/* æ ‡ç­¾å†…å®¹ start*/
	.tn-tag-content {
		&__item {
			display: inline-block;
			line-height: 45rpx;
			padding: 10rpx 30rpx;
			margin: 20rpx 20rpx 5rpx 0rpx;

			&--prefix {
				padding-right: 10rpx;
			}
		}
	}

	/* æ ‡ç­¾å†…å®¹ end*/

	/* å†…å®¹å›¾ start */
	.content-backgroup {
		z-index: -1;

		.backgroud-image {
			border-radius: 15rpx;
			width: 100%;
		}
	}

	/* å†…å®¹å›¾ end */

	/* å•†å®¶å•†å“ start*/
	.tn-blogger-content {
		&__wrap {
			box-shadow: 0rpx 0rpx 50rpx 0rpx rgba(0, 0, 0, 0.07);
			border-radius: 20rpx;
			margin: 15rpx;
		}

		&__info {
			&__btn {
				margin-right: -12rpx;
				opacity: 0.5;
			}
		}

		&__label {
			&__item {
				line-height: 45rpx;
				padding: 0 10rpx;
				margin: 5rpx 18rpx 0 0;

				&--prefix {
					color: #e83a30;
					padding-right: 10rpx;
				}
			}

			&__desc {
				line-height: 35rpx;
			}
		}

		&__main-image {
			border-radius: 16rpx 16rpx 0 0;

			&--1 {
				max-width: 690rpx;
				min-width: 690rpx;
				max-height: 400rpx;
				min-height: 400rpx;
			}

			&--2 {
				max-width: 260rpx;
				max-height: 260rpx;
			}

			&--3 {
				height: 212rpx;
				width: 100%;
			}
		}

		&__count-icon {
			font-size: 24rpx;
			padding-right: 5rpx;
		}
	}

	.image-book {
		padding: 150rpx 0rpx;
		font-size: 16rpx;
		font-weight: 300;
		position: relative;
	}

	.image-picbook {
		background-size: cover;
		background-repeat: no-repeat;
		// background-attachment:fixed;
		background-position: top;
		border-radius: 15rpx 15rpx 0 0;
	}

	/* æ¯›ç»ç’ƒ*/
	.dd-glass {
		width: 100%;
		backdrop-filter: blur(20rpx);
		-webkit-backdrop-filter: blur(20rpx);
	}
</style>